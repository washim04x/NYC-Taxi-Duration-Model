schema: '2.0'
stages:
  build_featires:
    cmd: python ./src/features/build_features.py
    deps:
    - path: data/raw/
      hash: md5
      md5: 775bd993f722629b752d2bdee167a7a2.dir
      size: 271383386
      nfiles: 3
    - path: src/features/build_features.py
      hash: md5
      md5: 2bdd61e71ecd0c9e000676db205ada2e
      size: 1953
    - path: src/features/feature_definiation.py
      hash: md5
      md5: c07ceba5a56fd0f9be3ea2cc386f0ce3
      size: 9057
    params:
      params.yaml:
        feature_definiation.min_batch_size: 10000
        feature_definiation.n_clusters: 100
  train_model:
    cmd: python ./src/models/train_model.py ./data/processed
    deps:
    - path: data/processed/
      hash: md5
      md5: b76f7b3b172e5f1a8b8f27caf28aaedd.dir
      size: 650057353
      nfiles: 3
    - path: src/models/train_model.py
      hash: md5
      md5: 309611666e2b033ae938b507248c9eab
      size: 2214
    params:
      params.yaml:
        train_model.booster: gbtree
        train_model.eta: 0.5
        train_model.eval_metric: rmse
        train_model.lambda: 0.8
        train_model.max_depth: 10
        train_model.min_child_weight: 10
        train_model.nthread: 4
        train_model.objective: reg:linear
        train_model.silent: 1
        train_model.subsample: 0.8
        train_model.test_size: 0.2
